---
title: "Altair Line Plot with Selector"
format: html
jupyter: python3
include-in-header: 
  - text: |
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
      <style>
        body {
          font-family: 'Inter', sans-serif;
        }
      </style>
---

```{python}
import pandas as pd
import altair as alt

# Simulated data
df = pd.DataFrame({
    "year": [2020, 2021, 2022, 2020, 2021, 2022],
    "value": [10, 15, 20, 12, 18, 25],
    "region": ["Europe"]*3 + ["Asia"]*3
})

# Create dropdown selector
dropdown = alt.binding_select(options=df['region'].unique().tolist(), name='Region:')
selector = alt.selection_point(fields=['region'], bind=dropdown, value='Europe')

# Theme config (for font + transparent bg)
alt.themes.enable('default')  # reset first

def custom_theme():
    return {
        "config": {
            "background": "transparent",
            "title": {"font": "Inter", "fontSize": 18},
            "axis": {"labelFont": "Inter", "titleFont": "Inter"},
            "legend": {"labelFont": "Inter", "titleFont": "Inter"},
            "view": {"stroke": "transparent"}
        }
    }

alt.themes.register('custom', custom_theme)
alt.themes.enable('custom')

# Build the chart
chart = alt.Chart(df).mark_line(
    point=True,
    interpolate='monotone'  # smooth transitions
).encode(
    x=alt.X('year:O', title="Year"),
    y=alt.Y('value:Q', title="Value"),
    tooltip=['year', 'value', 'region'],
    color='region'
).add_params(
    selector
).transform_filter(
    selector
).properties(
    width='container',
    height=400,
    title="Smoothed Altair Line Chart with Font and Transitions"
)

chart
```